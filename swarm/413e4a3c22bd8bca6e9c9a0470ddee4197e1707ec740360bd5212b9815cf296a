pragma solidity ^0.8.7;

contract main {
    // can we declare variables which can be set outside of the contract?
    uint8 public constant minVote = 1;
    uint8 public constant maxVote = 20;
    uint8 public constant credits = 10;

    struct policy {
        uint idPolicy;
        string policyName;
        string policyDesc;
        uint votesFor;
        uint votesAgainst;
        bool completed;
    }

    struct voter {
        uint idVoter; 
        address addrVoter;
        uint voteCredits; 
    }

    policy[] public policyList;
    voter[] public voterList;

    uint public locPolicy = 0;
    uint public locVoter = 0;

    function policy_create(
        string calldata _policyName, 
        string calldata _policyDesc) 
        public {
        
        policyList.push(policy(locPolicy, _policyName, _policyDesc, 0, 0, false));

        locPolicy++;
    }

    function voter_create() public {
        voterList.push(voter(locVoter, msg.sender, credits));

        locVoter++;
    }

    function policy_vote(
        uint _idPolicy,
        bool vote
    ) public {
        if (vote == true){
            policyList[_idPolicy].votesFor++;
        }
        else {
            policyList[_idPolicy].votesAgainst++;
        }
    }
}